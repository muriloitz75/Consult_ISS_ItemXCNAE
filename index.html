<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Ecossistema DIAAF - Plataforma integrada de consulta fiscal, geração de pareceres e análise de processos.">
    <meta name="keywords" content="CNAE, LIST LC, ISS, consulta fiscal, alíquota, código fiscal, tributação">
    <meta name="author" content="Murilo Miguel">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Ecossistema DIAAF">
    <meta property="og:description" content="Consulte códigos CNAE e LIST LC com alíquotas de ISS atualizadas">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="Ecossistema DIAAF">
    <meta property="twitter:description" content="Consulte códigos CNAE e LIST LC com alíquotas de ISS atualizadas">

    <!-- Performance -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="icon" type="image/png" href="image/ecossistema-digital.png">
    <title>Ecossistema DIAAF</title>
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Ecossistema DIAAF",
        "description": "Plataforma integrada de serviços fiscais: consulta CNAE/ISS, geração de pareceres e análise de processos",
        "url": "https://seudominio.com.br",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web Browser",
        "author": {
            "@type": "Person",
            "name": "Murilo Miguel"
        }
    }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./style.css?v=20260214">

</head>

<body>
    <div id="root" role="main" aria-label="Ecossistema DIAAF">
        <div id="load-fallback"
            style="font-family: system-ui, sans-serif; max-width: 560px; margin: 2rem auto; padding: 2rem; text-align: center; background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 16px;">
            <h1 style="color: #1e293b; margin-bottom: 1rem;">Ecossistema DIAAF</h1>
            <p id="load-status" style="color: #64748b; margin-bottom: 1.5rem;">Carregando...</p>
            <p id="load-help" style="display:none; color: #475569; font-size: 0.95rem; margin-bottom: 1.5rem;">No
                terminal, na pasta do projeto, execute:</p>
            <code id="load-code"
                style="display: none; padding: 1rem; background: #1e293b; color: #e2e8f0; border-radius: 8px; margin-bottom: 1rem; text-align: left; overflow-x: auto;">npx --yes serve -l 3000</code>
            <p id="load-url" style="display:none; color: #475569; font-size: 0.95rem;">Depois abra no navegador:
                <strong>http://localhost:3000</strong>
            </p>
            <p id="load-error-msg"
                style="color: #dc2626; font-size: 0.875rem; margin-top: 1rem; word-break: break-word;"></p>
        </div>
    </div>

    <script>
        window.__USE_HTTP_SERVER__ = (window.location.protocol !== 'file:');
        window.__LOAD_ERROR__ = null;
        if (!window.__USE_HTTP_SERVER__) {
            var fb = document.getElementById('load-fallback');
            if (fb) {
                document.getElementById('load-status').textContent = 'Abra esta página por um servidor HTTP (ex.: http://localhost:3000), não pelo arquivo (file://).';
                document.getElementById('load-help').style.display = 'block';
                document.getElementById('load-code').style.display = 'block';
                document.getElementById('load-url').style.display = 'block';
            }
        }
        window.onerror = function (msg, url, line, col, err) {
            window.__LOAD_ERROR__ = msg + (err ? ' ' + err.stack : '');
            var status = document.getElementById('load-status');
            var errEl = document.getElementById('load-error-msg');
            var help = document.getElementById('load-help'), code = document.getElementById('load-code'), urlP = document.getElementById('load-url');
            if (status) status.textContent = 'Ocorreu um erro ao carregar.';
            if (errEl) errEl.textContent = msg + (err && err.message ? ' ' + err.message : '');
            if (help) help.style.display = 'block';
            if (code) code.style.display = 'block';
            if (urlP) urlP.style.display = 'block';
            return false;
        };
    </script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script>
        (function () {
            if (window.__USE_HTTP_SERVER__ === false) return;
            function showLoadError(msg) {
                var status = document.getElementById('load-status');
                var errEl = document.getElementById('load-error-msg');
                var help = document.getElementById('load-help'), code = document.getElementById('load-code'), urlP = document.getElementById('load-url');
                if (status) status.textContent = 'A aplicação não carregou.';
                if (errEl) errEl.textContent = msg || '';
                if (help) help.style.display = 'block';
                if (code) code.style.display = 'block';
                if (urlP) urlP.style.display = 'block';
            }
            function runApp() {
                var scriptUrl = './script.js?v=20260228';
                fetch(scriptUrl)
                    .then(function (r) {
                        if (!r.ok) throw new Error('Arquivo script.js não encontrado (HTTP ' + r.status + '). Verifique se o servidor está rodando na pasta do projeto.');
                        return r.text();
                    })
                    .then(function (code) {
                        try {
                            var transformed = Babel.transform(code, { presets: ['react'] }).code;
                            var fn = new Function('React', 'ReactDOM', 'return (function(){ ' + transformed + ' })();');
                            fn(React, ReactDOM);
                        } catch (e) {
                            showLoadError('Erro ao compilar/executar: ' + (e.message || e));
                            console.error(e);
                        }
                    })
                    .catch(function (e) {
                        showLoadError('Falha ao carregar script: ' + (e.message || e));
                        console.error(e);
                    });
            }
            if (typeof Babel !== 'undefined' && typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
                runApp();
            } else {
                window.addEventListener('load', function () {
                    if (typeof Babel === 'undefined') return showLoadError('Babel não carregou. Verifique sua conexão.');
                    if (typeof React === 'undefined' || typeof ReactDOM === 'undefined') return showLoadError('React não carregou. Verifique sua conexão.');
                    runApp();
                });
            }
        })();
    </script>
    <script>
        setTimeout(function () {
            if (window.__APP_LOADED__) return;
            var fallback = document.getElementById('load-fallback');
            var appRoot = document.querySelector('#root > div.flex');
            if (fallback && !appRoot) {
                var status = document.getElementById('load-status');
                if (status && status.textContent === 'Carregando...') {
                    status.textContent = 'A aplicação não carregou. Use um servidor local.';
                }
                document.getElementById('load-help').style.display = 'block';
                document.getElementById('load-code').style.display = 'block';
                document.getElementById('load-url').style.display = 'block';
            }
        }, 5500);
    </script>
</body>

</html>